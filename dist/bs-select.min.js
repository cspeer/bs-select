/*!
* @erwinstone/bs-select v1.0.2 (https://bs-select.vercel.app/)
* Copyright 2022 erwinstone
* Licensed under MIT (https://github.com/erwinstone/bs-select/blob/master/LICENSE)
*/(function(a,l){typeof exports=="object"&&typeof module!="undefined"?module.exports=l():typeof define=="function"&&define.amd?define(l):(a=typeof globalThis!="undefined"?globalThis:a||self,a.Bss=l())})(this,function(){"use strict";class a{#f="bss-wrapper";#n="dropdown-item";#b="bss-items";#L="bss-clear";#g="dropdown-header";#s="d-none";#w="bss-no-results";#E="bss-tag-remove";#t;#o;#y;#x;#$;#e;#S;#l;#i;#a;#d;#h;#r;#c;constructor(e,t){this.#t=e,this.#o=t?.search??e.dataset.bssSearch!==void 0,this.#y=t?.create??e.dataset.bssCreate!==void 0,this.#x=t?.clear??e.dataset.bssClear!==void 0,this.#$=t?.maxHeight||e.dataset.bssMaxHeight||"25rem",this.#e={placeholder:"",search:"Search",noResults:"No results found",clear:"Clear selection",addElement:'Press Enter to add "<b>%{value}</b>"'},this.#e=t?.labels?{...this.#e,...t.labels}:this.#e,this.#S=(this.#t.dataset.bssAutoClose||t?.autoClose)??!0,this.#M(),this.#u(),this.#T()}#M(){this.#t.nextElementSibling&&this.#t.nextElementSibling.classList&&this.#t.nextElementSibling.classList.contains(this.#f)&&this.#t.nextElementSibling.remove();const e=`
		<div class="dropdown ${this.#f}">
			<button type="button" data-bs-toggle="dropdown" data-bs-auto-close="${this.#S}" aria-expanded="false"></button>
			<div class="dropdown-menu" style="max-height:${this.#$}">
				<div class="d-flex flex-column">
					<div class="bss-search-wrapper">
						<input type="text" class="form-control" placeholder="${this.#t.dataset.bssSearchLabel||this.#e.search}" onkeydown="return event.key !== 'Enter'">
					</div>
					<div class="${this.#b}"></div>
					<div class="${this.#w} ${this.#n} text-wrap ${this.#s}">${this.#t.dataset.bssNoResultsLabel||this.#e.noResults}</div>
				</div>
			</div>
			<button class="btn ${this.#L}" tabindex="-1" type="button" title="${this.#t.dataset.bssClearLabel||this.#e.clear}">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" fill="none">
					<path d="M13 1L0.999999 13" stroke-width="2" stroke="currentColor"></path>
					<path d="M1 1L13 13" stroke-width="2" stroke="currentColor"></path>
				</svg>
			</button>
		</div>
		`;this.#t.insertAdjacentHTML("afterend",e),this.#t.style.display="none";const t=this.#t.nextElementSibling;t instanceof HTMLDivElement&&(this.#l=t),this.#i=t.querySelector('[data-bs-toggle="dropdown"]'),this.#a=t.querySelector("input"),this.#d=t.querySelector(`.${this.#L}`),this.#r=this.#t.multiple,this.#c=this.#t.disabled,this.#h=t.querySelector(`.${this.#w}`),this.#i.className=this.#t.className,this.#i.disabled=this.#c,this.#t.classList.contains("form-select-sm")&&this.#a.classList.add("form-control-sm"),this.#t.classList.contains("form-select-lg")&&this.#a.classList.add("form-control-lg"),this.#x||this.#d.remove(),this.#o||(this.#a.parentElement.remove(),this.#h.remove())}#u(){this.#i.innerHTML=this.#C();const e=this.#l.querySelector(`.${this.#b}`);e.innerHTML="",this.#A().forEach(t=>e.appendChild(t)),this.#t.value!==""&&this.#v()?this.#i.setAttribute("data-show-clear","true"):this.#i.removeAttribute("data-show-clear"),this.#c||this.#l.querySelectorAll(`.${this.#E}`).forEach(t=>{t.addEventListener("click",()=>{this.#i.click(),this.removeValue(t.getAttribute("data-bs-value"))})}),this.#a.value="",this.#o&&this.#h.classList.add(this.#s)}#T(){this.#i.addEventListener("shown.bs.dropdown",()=>{if(this.#o)this.#a.focus();else{const e=this.#l.querySelector(`.${this.#n}.active`);e&&e instanceof HTMLButtonElement&&e.focus()}}),this.#a.addEventListener("keyup",e=>{const t=this.#a.value.trim(),i=this.#l.querySelectorAll(`button.${this.#n}`);let h=0;if(i.forEach(s=>{s.classList.add(this.#s),s.innerHTML.toLowerCase().indexOf(t.toLowerCase())>-1&&(s.classList.remove(this.#s),h++)}),this.#l.querySelectorAll(`.${this.#g}`).forEach(s=>{s.querySelectorAll(`button:not(.${this.#s})`).length?s.classList.remove(this.#s):s.classList.add(this.#s)}),h)this.#h.classList.add(this.#s);else if(this.#h.classList.remove(this.#s),this.#y&&(this.#h.innerHTML=(this.#t.dataset.bssAddElement||this.#e.addElement).replace("%{value}",t),e.key==="Enter")){let s=document.createElement("option");s.value=t,s.selected=!0,s.textContent=t,this.#t.add(s),this.#i.click(),this.#m()}}),this.#d.addEventListener("click",()=>this.clear()),this.#t.addEventListener("change",()=>this.#u())}clear(){Array.from(this.#t.options).forEach(e=>e.selected=!1),this.#v()&&(this.#t.value=""),this.#u()}setValue(e){this.#p(e,!0),this.#p("",!1),this.#m()}removeValue(e){this.#p(e,!1),this.#m()}getValue(){return this.#r?Array.from(this.#t.selectedOptions).map(e=>e.value):this.#t.value}#p(e,t){Array.from(this.#t.options).forEach(i=>i.value===e&&(i.selected=t))}#m(){this.#t.dispatchEvent(new Event("change"))}#C(){this.#t.options;const e=Array.from(this.#t.selectedOptions);if(e.length<1&&this.#r&&this.#v()){const t=document.createElement("option");t.hidden=!0,t.textContent=this.#t.dataset.bssPlaceholder||this.#e.placeholder,e.push(t)}return e.map(t=>t.hidden?this.#k(t.innerHTML):this.#r?this.#q(t):t.innerHTML).join("")}#A(){const e=[];return this.#t.querySelectorAll(":scope>*").forEach(t=>{if(t instanceof HTMLOptionElement&&!t.hidden&&e.push(this.#H(t)),t instanceof HTMLOptGroupElement){const i=document.createElement("div");i.classList.add(this.#g),i.innerHTML=`<span>${t.label}</span>`,t.querySelectorAll("option").forEach(h=>i.appendChild(this.#H(h))),e.push(i)}}),e}#k(e){return`<span class="bss-placeholder">${e}</span>`}#q(e){return`<div class="bss-tag"><svg data-bs-value="${e.value}" class="${this.#E}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"></path><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"></path></svg>
		${e.innerHTML}</div>`}#H(e){let t=document.createElement("button");return t.type="button",t.disabled=e.selected&&this.#r||e.disabled,t.innerHTML=e.innerHTML,t.classList.add(this.#n),e.selected&&t.classList.add("active"),t.addEventListener("click",()=>this.setValue(e.value)),t}#v(){return(this.#t.dataset.bssPlaceholder||this.#e.placeholder)!==""}}return a});
