/*!
* @erwinstone/bs-select v1.0.2 (https://bs-select.vercel.app/)
* Copyright 2021 erwinstone
* Licensed under MIT (https://github.com/erwinstone/bs-select/blob/master/LICENSE)
*/(function(a,n){typeof exports=="object"&&typeof module!="undefined"?module.exports=n():typeof define=="function"&&define.amd?define(n):(a=typeof globalThis!="undefined"?globalThis:a||self,a.Bss=n())})(this,function(){"use strict";class a{#v="bss-wrapper";#l="dropdown-item";#m="bss-items";#f="bss-clear";#b="dropdown-header";#e="d-none";#L="bss-no-results";#g="bss-tag-remove";#t;#h;#w;#y;#E;#n;#s;#i;#c;#r;#a;#u;constructor(t,e){this.#t=t,this.#h=e?.search??t.dataset.bssSearch!==void 0,this.#w=e?.create??t.dataset.bssCreate!==void 0,this.#y=e?.clear??t.dataset.bssClear!==void 0,this.#E=e?.maxHeight||t.dataset.bssMaxHeight||"25rem",this.#M(),this.#x(),this.#S()}#M(){this.#t.nextElementSibling&&this.#t.nextElementSibling.classList&&this.#t.nextElementSibling.classList.contains(this.#v)&&this.#t.nextElementSibling.remove();const t=`
		<div class="dropdown ${this.#v}">
			<button type="button" data-bs-toggle="dropdown" aria-expanded="false"></button>
			<div class="dropdown-menu" style="max-height:${this.#E}">
				<div class="d-flex flex-column">
					<div class="bss-search-wrapper">
						<input type="text" class="form-control" placeholder="Search" onkeydown="return event.key !== 'Enter'">
					</div>
					<div class="${this.#m}"></div>
					<div class="${this.#L} ${this.#l} text-wrap ${this.#e}">No results found</div>
				</div>
			</div>
			<button class="btn ${this.#f}" tabindex="-1" type="button" title="Clear selection">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" fill="none">
					<path d="M13 1L0.999999 13" stroke-width="2" stroke="currentColor"></path>
					<path d="M1 1L13 13" stroke-width="2" stroke="currentColor"></path>
				</svg>
			</button>
		</div>
		`;this.#t.insertAdjacentHTML("afterend",t),this.#t.style.display="none";const e=this.#t.nextElementSibling;e instanceof HTMLDivElement&&(this.#n=e),this.#s=e.querySelector('[data-bs-toggle="dropdown"]'),this.#i=e.querySelector("input"),this.#c=e.querySelector(`.${this.#f}`),this.#a=this.#t.multiple,this.#u=this.#t.disabled,this.#r=e.querySelector(`.${this.#L}`),this.#s.className=this.#t.className,this.#s.disabled=this.#u,this.#t.classList.contains("form-select-sm")&&this.#i.classList.add("form-control-sm"),this.#t.classList.contains("form-select-lg")&&this.#i.classList.add("form-control-lg"),(!this.#y||this.#a||!this.#d())&&this.#c.remove(),this.#h||(this.#i.parentElement.remove(),this.#r.remove())}#x(){this.#s.innerHTML=this.#$();const t=this.#n.querySelector(`.${this.#m}`);t.innerHTML="",this.#T().forEach(e=>t.appendChild(e)),!this.#a&&this.#t.value!==""&&this.#d()?this.#s.setAttribute("data-show-clear","true"):this.#s.removeAttribute("data-show-clear"),this.#u||this.#n.querySelectorAll(`.${this.#g}`).forEach(e=>{e.addEventListener("click",()=>{this.#s.click(),this.removeValue(e.getAttribute("data-bs-value"))})}),this.#i.value="",this.#h&&this.#r.classList.add(this.#e)}#S(){this.#s.addEventListener("shown.bs.dropdown",()=>{if(this.#h)this.#i.focus();else{const t=this.#n.querySelector(`.${this.#l}.active`);t&&t instanceof HTMLButtonElement&&t.focus()}}),this.#i.addEventListener("keyup",t=>{const e=this.#i.value.trim(),s=this.#n.querySelectorAll(`button.${this.#l}`);let r=0;if(s.forEach(i=>{i.classList.add(this.#e),i.innerHTML.toLowerCase().indexOf(e.toLowerCase())>-1&&(i.classList.remove(this.#e),r++)}),this.#n.querySelectorAll(`.${this.#b}`).forEach(i=>{i.querySelectorAll(`button:not(.${this.#e})`).length?i.classList.remove(this.#e):i.classList.add(this.#e)}),r)this.#r.classList.add(this.#e);else if(this.#r.classList.remove(this.#e),this.#w&&(this.#r.innerHTML=`Press Enter to add "<b>${e}</b>"`,t.key==="Enter")){let i=document.createElement("option");i.value=e,i.selected=!0,i.textContent=e,this.#t.add(i),this.#s.click(),this.#o()}}),this.#c.addEventListener("click",()=>{Array.from(this.#t.options).forEach(t=>t.selected=!1),this.#d()&&(this.#t.value=""),this.#o()}),this.#t.addEventListener("change",()=>this.#x())}setValue(t){this.#p(t,!0),t!==""&&this.#p("",!1),this.#o()}removeValue(t){this.#p(t,!1),this.#o()}getValue(){return this.#a?Array.from(this.#t.selectedOptions).map(t=>t.value):this.#t.value}#p(t,e){Array.from(this.#t.options).forEach(s=>s.value===t&&(s.selected=e))}#o(){this.#t.dispatchEvent(new Event("change"))}#$(){const t=this.#t.options;let e=Array.from(this.#t.selectedOptions);return e.length<1&&this.#a&&this.#d()&&e.push(t[0]),e.map(s=>s.value===""?this.#A(s.innerHTML):this.#a?this.#k(s):s.innerHTML).join("")}#T(){let t=[];return this.#t.querySelectorAll(":scope>*").forEach(e=>{if(e instanceof HTMLOptionElement&&e.value!==""&&t.push(this.#H(e)),e instanceof HTMLOptGroupElement){let s=document.createElement("div");s.classList.add(this.#b),s.innerHTML=`<span>${e.label}</span>`,e.querySelectorAll("option").forEach(r=>s.appendChild(this.#H(r))),t.push(s)}}),t}#A(t){return`<span class="bss-placeholder">${t}</span>`}#k(t){return`<div class="bss-tag"><svg data-bs-value="${t.value}" class="${this.#g}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"></path><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"></path></svg>
		${t.innerHTML}</div>`}#H(t){let e=document.createElement("button");return e.type="button",e.disabled=t.selected&&this.#a||t.disabled,e.innerHTML=t.innerHTML,e.classList.add(this.#l),t.selected&&e.classList.add("active"),e.addEventListener("click",()=>this.setValue(t.value)),e}#d(){return this.#t.options.length&&this.#t.options[0].value===""}}return a});
